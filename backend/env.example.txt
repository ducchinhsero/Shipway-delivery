# ============================================
# SHIPWAY API - Environment Variables
# ============================================
# 
# Copy this file to .env and fill in your actual values
# Command: cp env.example.txt .env
#
# IMPORTANT: 
# - Never commit .env to Git (it's in .gitignore)
# - Generate strong SECRET_KEY for production
# - Use production credentials for MongoDB and Twilio
#

# ============================================
# APPLICATION SETTINGS
# ============================================

# Application name
APP_NAME=Shipway API

# Environment: development, staging, production
NODE_ENV=development

# ============================================
# DATABASE - MongoDB
# ============================================

# MongoDB Connection String
# Development (local):
# MONGO_URI=mongodb://localhost:27017
# 
# Production (MongoDB Atlas):
# MONGO_URI=mongodb+srv://username:password@cluster0.xxxxx.mongodb.net/shipway?retryWrites=true&w=majority
MONGO_URI=mongodb://localhost:27017

# Database name
DB_NAME=shipway

# Alternative variable names (for compatibility)
MONGODB_URL=mongodb://localhost:27017
MONGODB_DB_NAME=shipway

# ============================================
# SECURITY - JWT
# ============================================

# JWT Secret Key (MUST CHANGE IN PRODUCTION!)
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=your-super-secret-key-change-this-in-production

# Token expiration (minutes)
ACCESS_TOKEN_EXPIRE_MINUTES=1440

# JWT Algorithm
JWT_ALGORITHM=HS256

# Alternative variable names (for compatibility)
JWT_SECRET=your-super-secret-key-change-this-in-production
JWT_EXPIRE_MINUTES=1440

# ============================================
# OTP SETTINGS
# ============================================

# OTP expiration time (minutes)
OTP_EXPIRE_MINUTES=5

# Maximum OTP verification attempts
OTP_MAX_ATTEMPTS=5

# ============================================
# SMS - Twilio (Optional)
# ============================================
# Required for production SMS OTP
# Get credentials from: https://console.twilio.com/

# Twilio Account SID
TWILIO_ACCOUNT_SID=

# Twilio Auth Token
TWILIO_AUTH_TOKEN=

# Twilio Phone Number (must be verified in Twilio)
TWILIO_PHONE_NUMBER=

# ============================================
# SERVER SETTINGS
# ============================================

# Host (0.0.0.0 for production, 127.0.0.1 for local)
HOST=0.0.0.0

# Port
PORT=8000

# Number of worker processes (production)
WORKERS=4

# ============================================
# CORS SETTINGS (Optional)
# ============================================
# Comma-separated list of allowed origins
# Example: CORS_ORIGINS=http://localhost:3000,https://shipway.lpwanmapper.com
# CORS_ORIGINS=*

# ============================================
# LOGGING (Optional)
# ============================================
# LOG_LEVEL=info
# LOG_FILE=/var/log/shipway/api.log

# ============================================
# EXAMPLES FOR DIFFERENT ENVIRONMENTS
# ============================================

# --- DEVELOPMENT (Local) ---
# NODE_ENV=development
# MONGO_URI=mongodb://localhost:27017
# SECRET_KEY=dev-secret-key-not-for-production
# TWILIO_ACCOUNT_SID=
# TWILIO_AUTH_TOKEN=
# TWILIO_PHONE_NUMBER=

# --- STAGING ---
# NODE_ENV=staging
# MONGO_URI=mongodb+srv://staging_user:password@cluster0.xxxxx.mongodb.net/shipway_staging?retryWrites=true
# SECRET_KEY=<generate-unique-secret-for-staging>
# TWILIO_ACCOUNT_SID=<staging-twilio-sid>
# TWILIO_AUTH_TOKEN=<staging-twilio-token>
# TWILIO_PHONE_NUMBER=<staging-phone-number>

# --- PRODUCTION ---
# NODE_ENV=production
# MONGO_URI=mongodb+srv://prod_user:strong_password@cluster0.xxxxx.mongodb.net/shipway?retryWrites=true&w=majority
# DB_NAME=shipway
# SECRET_KEY=<generate-strong-32-char-secret>
# ACCESS_TOKEN_EXPIRE_MINUTES=1440
# TWILIO_ACCOUNT_SID=<production-twilio-sid>
# TWILIO_AUTH_TOKEN=<production-twilio-token>
# TWILIO_PHONE_NUMBER=<production-phone-number>
# HOST=0.0.0.0
# PORT=8000
# WORKERS=4

# ============================================
# NOTES
# ============================================
#
# 1. SECRET_KEY Generation:
#    python -c "import secrets; print(secrets.token_urlsafe(32))"
#
# 2. MongoDB Atlas Setup:
#    - Create cluster at https://cloud.mongodb.com/
#    - Create database user
#    - Whitelist IP: 0.0.0.0/0 (or specific IPs)
#    - Get connection string
#
# 3. Twilio Setup:
#    - Sign up at https://www.twilio.com/
#    - Verify phone number
#    - Get credentials from console
#    - Add credit for SMS (production)
#
# 4. Testing without Twilio:
#    - Leave TWILIO_* variables empty
#    - OTP will be returned in API response (development mode only)
#
# 5. Security Best Practices:
#    - Never commit .env to version control
#    - Use different secrets for each environment
#    - Rotate secrets regularly
#    - Use strong passwords for MongoDB
#    - Enable MongoDB IP whitelist
#    - Use HTTPS in production
#
